<%= javascript_include_tag 'preview_js' %>
<div>
  <h2 class="font-weight-bold text-center">投稿フォーム</h2>
  <div class="form-group mt-5">
  <%= render "layouts/error_message", object: @post %>
  <%= form_for(@post, class: "form") do |f| %>

    <div class=text-center>      
      <div>
        <% if @post.image.present? %>
          <%= image_tag post.image.url, id: :js_imgPrev, size:"600x450", class:"post-prev img-fluid" %>
        <% else %>
          <%= image_tag asset_path("defaultPicture.jpg"), id: :js_imgPrev, size:"300x450", class:"post-prev img-fluid" %>
        <% end %>
      </div>
      <label for="js_presentImg" class="btn btn-warning"><span>画像を選択</span>
        <%= f.file_field :image, id: :js_presentImg, autofocus: true, multiple: true,
                                    class:"form-control-file", style: "display:none;" %>
      </label>
    </div>
    
    <div class="form-group">
      <label for="name">Title</label>
      <%= f.text_field :title, placeholder: "タイトル", class:"form-control" %>
    </div>

    <div class="form-group">
      <label for="name">説明</label>
      <%= f.text_area :content, placeholder: "説明", class:"form-control" %>
    </div>

    <div class="form-group">
      <label for="name">タグ</label>
      <%= f.text_field :tag_list, value: @post.tag_list.join(','),  placeholder: "タグ（カンマ区切り）", class: "form-control"%>
    </div>

    <div class="actions text-center">
      <%= f.submit "投稿", class: "btn btn-primary" %>
    </div>
  <% end %>
  </div>
</div>